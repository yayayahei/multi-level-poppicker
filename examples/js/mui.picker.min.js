/**
* 选择列表插件
* varstion 2.0.0
* by Houfeng
* Houfeng@DCloud.io
**/
!function(t,e,i,s){var n=30,o=90,r=40,a=10,l=t.rad2deg=function(t){return t/(Math.PI/180)},h=(t.deg2rad=function(t){return t*(Math.PI/180)},navigator.platform.toLowerCase()),c=navigator.userAgent.toLowerCase(),p=(c.indexOf("iphone")>-1||c.indexOf("ipad")>-1||c.indexOf("ipod")>-1)&&(h.indexOf("iphone")>-1||h.indexOf("ipad")>-1||h.indexOf("ipod")>-1),d=t.Picker=function(t,e){var i=this;i.holder=t,i.options=e||{},i.init(),i.initInertiaParams(),i.calcElementItemPostion(!0),i.bindEvent()};d.prototype.findElementItems=function(){var t=this;return t.elementItems=[].slice.call(t.holder.querySelectorAll("li")),t.elementItems},d.prototype.init=function(){var t=this;t.list=t.holder.querySelector("ul"),t.findElementItems(),t.height=t.holder.offsetHeight,t.r=t.height/2-a,t.d=2*t.r,t.itemHeight=t.elementItems.length>0?t.elementItems[0].offsetHeight:r,t.itemAngle=parseInt(t.calcAngle(.8*t.itemHeight)),t.hightlightRange=t.itemAngle/2,t.visibleRange=o,t.beginAngle=0,t.beginExceed=t.beginAngle-n,t.list.angle=t.beginAngle,p&&(t.list.style.webkitTransformOrigin="center center "+t.r+"px")},d.prototype.calcElementItemPostion=function(t){var e=this;t&&(e.items=[]),e.elementItems.forEach(function(i){var s=e.elementItems.indexOf(i);if(e.endAngle=e.itemAngle*s,i.angle=e.endAngle,i.style.webkitTransformOrigin="center center -"+e.r+"px",i.style.webkitTransform="translateZ("+e.r+"px) rotateX("+-e.endAngle+"deg)",t){var n={};n.text=i.innerHTML||"",n.value=i.getAttribute("data-value")||n.text,e.items.push(n)}}),e.endExceed=e.endAngle+n,e.calcElementItemVisibility(e.beginAngle)},d.prototype.calcAngle=function(t){var e=this,i=b=parseFloat(e.r);t=Math.abs(t);var s=180*parseInt(t/e.d);t%=e.d;var n=(i*i+b*b-t*t)/(2*i*b),o=s+l(Math.acos(n));return o},d.prototype.calcElementItemVisibility=function(t){var e=this;e.elementItems.forEach(function(i){var s=Math.abs(i.angle-t);s<e.hightlightRange?i.classList.add("highlight"):s<e.visibleRange?(i.classList.add("visible"),i.classList.remove("highlight")):(i.classList.remove("highlight"),i.classList.remove("visible"))})},d.prototype.setAngle=function(t){var e=this;e.list.angle=t,e.list.style.webkitTransform="perspective(1000px) rotateY(0deg) rotateX("+t+"deg)",e.calcElementItemVisibility(t)},d.prototype.bindEvent=function(){var e=this,i=0,s=null,n=!1;e.holder.addEventListener(t.EVENT_START,function(t){n=!0,t.preventDefault(),e.list.style.webkitTransition="",s=(t.changedTouches?t.changedTouches[0]:t).pageY,i=e.list.angle,e.updateInertiaParams(t,!0)},!1),e.holder.addEventListener(t.EVENT_END,function(t){n=!1,t.preventDefault(),e.startInertiaScroll(t)},!1),e.holder.addEventListener(t.EVENT_CANCEL,function(t){n=!1,t.preventDefault(),e.startInertiaScroll(t)},!1),e.holder.addEventListener(t.EVENT_MOVE,function(t){if(n){t.preventDefault();var o=(t.changedTouches?t.changedTouches[0]:t).pageY,r=o-s,a=e.calcAngle(r),l=r>0?i-a:i+a;l>e.endExceed&&(l=e.endExceed),l<e.beginExceed&&(l=e.beginExceed),e.setAngle(l),e.updateInertiaParams(t)}},!1),e.list.addEventListener("tap",function(t){elementItem=t.target,"LI"==elementItem.tagName&&e.setSelectedIndex(e.elementItems.indexOf(elementItem),200)},!1)},d.prototype.initInertiaParams=function(){var t=this;t.lastMoveTime=0,t.lastMoveStart=0,t.stopInertiaMove=!1},d.prototype.updateInertiaParams=function(t,e){var i=this,s=t.changedTouches?t.changedTouches[0]:t;if(e)i.lastMoveStart=s.pageY,i.lastMoveTime=t.timeStamp||Date.now(),i.startAngle=i.list.angle;else{var n=t.timeStamp||Date.now();n-i.lastMoveTime>300&&(i.lastMoveTime=n,i.lastMoveStart=s.pageY)}i.stopInertiaMove=!0},d.prototype.startInertiaScroll=function(t){var e=this,i=t.changedTouches?t.changedTouches[0]:t,s=t.timeStamp||Date.now(),n=(i.pageY-e.lastMoveStart)/(s-e.lastMoveTime),o=n>0?-1:1,r=6e-4*o*-1,a=Math.abs(n/r),l=n*a/2,h=e.list.angle,c=e.calcAngle(l)*o,p=c;return h+c<e.beginExceed&&(c=e.beginExceed-h,a=a*(c/p)*.6),h+c>e.endExceed&&(c=e.endExceed-h,a=a*(c/p)*.6),0==c?void e.endScroll():void e.scrollDistAngle(s,h,c,a)},d.prototype.scrollDistAngle=function(t,e,i,s){var n=this;n.stopInertiaMove=!1,function(t,e,i,s){var o=13,r=s/o,a=0;!function l(){if(!n.stopInertiaMove){var t=n.quartEaseOut(a,e,i,r);return n.setAngle(t),a++,a>r-1||t<n.beginExceed||t>n.endExceed?void n.endScroll():void setTimeout(l,o)}}()}(t,e,i,s)},d.prototype.quartEaseOut=function(t,e,i,s){return-i*((t=t/s-1)*t*t*t-1)+e},d.prototype.endScroll=function(){var t=this;if(t.list.angle<t.beginAngle)t.list.style.webkitTransition="150ms ease-out",t.setAngle(t.beginAngle);else if(t.list.angle>t.endAngle)t.list.style.webkitTransition="150ms ease-out",t.setAngle(t.endAngle);else{var e=parseInt((t.list.angle/t.itemAngle).toFixed(0));t.list.style.webkitTransition="100ms ease-out",t.setAngle(t.itemAngle*e)}t.triggerChange()},d.prototype.triggerChange=function(e){var i=this;setTimeout(function(){var s=i.getSelectedIndex(),n=i.items[s];!t.trigger||s==i.lastIndex&&e!==!0||t.trigger(i.holder,"change",{index:s,item:n}),i.lastIndex=s,"function"==typeof e&&e()},0)},d.prototype.correctAngle=function(t){var e=this;return t<e.beginAngle?e.beginAngle:t>e.endAngle?e.endAngle:t},d.prototype.setItems=function(t){var e=this;e.items=t||[];var i=[];e.items.forEach(function(t){null!==t&&t!==s&&i.push("<li>"+(t.text||t)+"</li>")}),e.list.innerHTML=i.join(""),e.findElementItems(),e.calcElementItemPostion(),e.setAngle(e.correctAngle(e.list.angle)),e.triggerChange(!0)},d.prototype.getItems=function(){var t=this;return t.items},d.prototype.getSelectedIndex=function(){var t=this;return parseInt((t.list.angle/t.itemAngle).toFixed(0))},d.prototype.setSelectedIndex=function(t,e,i){var s=this;s.list.style.webkitTransition="";var n=s.correctAngle(s.itemAngle*t);if(e&&e>0){var o=n-s.list.angle;s.scrollDistAngle(Date.now(),s.list.angle,o,e)}else s.setAngle(n);s.triggerChange(i)},d.prototype.getSelectedItem=function(){var t=this;return t.items[t.getSelectedIndex()]},d.prototype.getSelectedValue=function(){var t=this;return(t.items[t.getSelectedIndex()]||{}).value},d.prototype.getSelectedText=function(){var t=this;return(t.items[t.getSelectedIndex()]||{}).text},d.prototype.setSelectedValue=function(t,e,i){var s=this;for(var n in s.items){var o=s.items[n];if(o.value==t)return void s.setSelectedIndex(n,e,i)}},t.fn&&(t.fn.picker=function(t){return this.each(function(e,i){if(!i.picker)if(t)i.picker=new d(i,t);else{var s=i.getAttribute("data-picker-options"),n=s?JSON.parse(s):{};i.picker=new d(i,n)}}),this[0]?this[0].picker:null},t.ready(function(){t(".mui-picker").picker()}))}(window.mui||window,window,document,void 0),!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.BScroll=e()}(this,function(){"use strict";function t(){return window.performance&&window.performance.now?window.performance.now()+window.performance.timing.navigationStart:+new Date}function e(t){for(var e=arguments.length,i=Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];for(var n=0;n<i.length;n++){var o=i[n];for(var r in o)t[r]=o[r]}return t}function i(t){return!1!==w&&("standard"===w?"transitionEnd"===t?"transitionend":t:w+t.charAt(0).toUpperCase()+t.substr(1))}function s(t,e,i,s){t.addEventListener(e,i,{passive:!1,capture:!!s})}function n(t,e,i,s){t.removeEventListener(e,i,{passive:!1,capture:!!s})}function o(t){for(var e=0,i=0;t;)e-=t.offsetLeft,i-=t.offsetTop,t=t.offsetParent;return{left:e,top:i}}function r(t){if(t instanceof window.SVGElement){var e=t.getBoundingClientRect();return{top:e.top,left:e.left,width:e.width,height:e.height}}return{top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}}function a(t,e){for(var i in e)if(e[i].test(t[i]))return!0;return!1}function l(t,e){var i=document.createEvent("Event");i.initEvent(e,!0,!0),i.pageX=t.pageX,i.pageY=t.pageY,t.target.dispatchEvent(i)}function h(t){var i=void 0;"mouseup"===t.type||"mousecancel"===t.type?i=t:"touchend"!==t.type&&"touchcancel"!==t.type||(i=t.changedTouches[0]);var s={};i&&(s.screenX=i.screenX||0,s.screenY=i.screenY||0,s.clientX=i.clientX||0,s.clientY=i.clientY||0);var n=void 0;"undefined"!=typeof MouseEvent?n=new MouseEvent("click",e({bubbles:!0,cancelable:!1},s)):((n=document.createEvent("Event")).initEvent("click",!0,!1),e(n,s)),n._constructed=!0,t.target.dispatchEvent(n)}function c(t,e){e.firstChild?p(t,e.firstChild):e.appendChild(t)}function p(t,e){e.parentNode.insertBefore(t,e)}function d(t,e){t.removeChild(e)}function u(t,e,i,s,n,o){var r=t-e,a=Math.abs(r)/i,l=o.deceleration,h=o.itemHeight,c=o.swipeBounceTime,p=o.wheel,d=o.swipeTime,u=p?4:15,m=t+a/l*(r<0?-1:1);return p&&h&&(m=Math.round(m/h)*h),m<s?(m=n?s-n/u*a:s,d=c):m>0&&(m=n?n/u*a:0,d=c),{destination:Math.round(m),duration:d}}function m(t){console.error("[BScroll warn]: "+t)}function v(t){var e=document.createElement("div"),i=document.createElement("div");return e.style.cssText="position:absolute;z-index:9999;pointerEvents:none",i.style.cssText="box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px;",i.className="bscroll-indicator","horizontal"===t?(e.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",i.style.height="100%",e.className="bscroll-horizontal-scrollbar"):(e.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",i.style.width="100%",e.className="bscroll-vertical-scrollbar"),e.style.cssText+=";overflow:hidden",e.appendChild(i),e}function g(t,e){this.wrapper=e.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=t,this.direction=e.direction,e.fade?(this.visible=0,this.wrapperStyle.opacity="0"):this.visible=1,this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.x=0,this.y=0,e.interactive&&this._addDOMEvents()}function f(t,e){this.wrapper="string"==typeof t?document.querySelector(t):t,this.wrapper||m("can not resolve the wrapper dom"),this.scroller=this.wrapper.children[0],this.scroller||m("the wrapper need at least one child element to be scroller"),this.scrollerStyle=this.scroller.style,this._init(t,e)}var y=function(){function t(t,e){var i=[],s=!0,n=!1,o=void 0;try{for(var r,a=t[Symbol.iterator]();!(s=(r=a.next()).done)&&(i.push(r.value),!e||i.length!==e);s=!0);}catch(t){n=!0,o=t}finally{try{!s&&a["return"]&&a["return"]()}finally{if(n)throw o}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),b=function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)},x=navigator.userAgent.toLowerCase(),k=/wechatdevtools/.test(x),_=x.indexOf("android")>0,T=document.createElement("div").style,w=function(){var t={webkit:"webkitTransform",Moz:"MozTransform",O:"OTransform",ms:"msTransform",standard:"transform"};for(var e in t)if(void 0!==T[t[e]])return e;return!1}(),S=i("transform"),E=i("perspective")in T,M="ontouchstart"in window||k,I=!1!==S,D=i("transition")in T,Y={transform:S,transitionTimingFunction:i("transitionTimingFunction"),transitionDuration:i("transitionDuration"),transitionProperty:i("transitionProperty"),transitionDelay:i("transitionDelay"),transformOrigin:i("transformOrigin"),transitionEnd:i("transitionEnd")},P=1,A={touchstart:P,touchmove:P,touchend:P,mousedown:2,mousemove:2,mouseup:2},L={startX:0,startY:0,scrollX:!1,scrollY:!0,freeScroll:!1,directionLockThreshold:5,eventPassthrough:"",click:!1,tap:!1,bounce:!0,bounceTime:700,momentum:!0,momentumLimitTime:300,momentumLimitDistance:15,swipeTime:2500,swipeBounceTime:500,deceleration:.001,flickLimitTime:200,flickLimitDistance:100,resizePolling:60,probeType:0,preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:!1,disableMouse:M,disableTouch:!M,observeDOM:!0,autoBlur:!0,wheel:!1,snap:!1,scrollbar:!1,pullDownRefresh:!1,pullUpLoad:!1,mouseWheel:!1},X={swipe:{style:"cubic-bezier(0.23, 1, 0.32, 1)",fn:function(t){return 1+--t*t*t*t*t}},swipeBounce:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},bounce:{style:"cubic-bezier(0.165, 0.84, 0.44, 1)",fn:function(t){return 1- --t*t*t*t}}},H=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(t){return window.setTimeout(t,(t.interval||100/60)/2)},O=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||function(t){window.clearTimeout(t)},N=1,C=-1,V=1,W=-1;return g.prototype.handleEvent=function(t){switch(t.type){case"touchstart":case"mousedown":this._start(t);break;case"touchmove":case"mousemove":this._move(t);break;case"touchend":case"mouseup":case"touchcancel":case"mousecancel":this._end(t)}},g.prototype.refresh=function(){this.transitionTime(),this._calculate(),this.updatePosition()},g.prototype.fade=function(t,e){var i=this;if(!e||this.visible){var s=t?250:500;t=t?"1":"0",this.wrapperStyle[Y.transitionDuration]=s+"ms",clearTimeout(this.fadeTimeout),this.fadeTimeout=setTimeout(function(){i.wrapperStyle.opacity=t,i.visible=+t},0)}},g.prototype.updatePosition=function(){if("vertical"===this.direction){var t=Math.round(this.sizeRatioY*this.scroller.y);if(t<0){this.transitionTime(500);var e=Math.max(this.indicatorHeight+3*t,8);this.indicatorStyle.height=e+"px",t=0}else if(t>this.maxPosY){this.transitionTime(500);var i=Math.max(this.indicatorHeight-3*(t-this.maxPosY),8);this.indicatorStyle.height=i+"px",t=this.maxPosY+this.indicatorHeight-i}else this.indicatorStyle.height=this.indicatorHeight+"px";this.y=t,this.scroller.options.useTransform?this.indicatorStyle[Y.transform]="translateY("+t+"px)"+this.scroller.translateZ:this.indicatorStyle.top=t+"px"}else{var s=Math.round(this.sizeRatioX*this.scroller.x);if(s<0){this.transitionTime(500);var n=Math.max(this.indicatorWidth+3*s,8);this.indicatorStyle.width=n+"px",s=0}else if(s>this.maxPosX){this.transitionTime(500);var o=Math.max(this.indicatorWidth-3*(s-this.maxPosX),8);this.indicatorStyle.width=o+"px",s=this.maxPosX+this.indicatorWidth-o}else this.indicatorStyle.width=this.indicatorWidth+"px";this.x=s,this.scroller.options.useTransform?this.indicatorStyle[Y.transform]="translateX("+s+"px)"+this.scroller.translateZ:this.indicatorStyle.left=s+"px"}},g.prototype.transitionTime=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.indicatorStyle[Y.transitionDuration]=t+"ms"},g.prototype.transitionTimingFunction=function(t){this.indicatorStyle[Y.transitionTimingFunction]=t},g.prototype.destroy=function(){this._removeDOMEvents(),this.wrapper.parentNode.removeChild(this.wrapper)},g.prototype._start=function(e){var i=e.touches?e.touches[0]:e;e.preventDefault(),e.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=i.pageX,this.lastPointY=i.pageY,this.startTime=t(),this._handleMoveEvents(s),this.scroller.trigger("beforeScrollStart")},g.prototype._move=function(t){var e=t.touches?t.touches[0]:t;t.preventDefault(),t.stopPropagation(),this.moved||this.scroller.trigger("scrollStart"),this.moved=!0;var i=e.pageX-this.lastPointX;this.lastPointX=e.pageX;var s=e.pageY-this.lastPointY;this.lastPointY=e.pageY;var n=this.x+i,o=this.y+s;this._pos(n,o)},g.prototype._end=function(t){if(this.initiated){this.initiated=!1,t.preventDefault(),t.stopPropagation(),this._handleMoveEvents(n);var e=this.scroller.options.snap;if(e){var i=e.speed,s=e.easing,o=void 0===s?X.bounce:s,r=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),a=i||Math.max(Math.max(Math.min(Math.abs(this.scroller.x-r.x),1e3),Math.min(Math.abs(this.scroller.y-r.y),1e3)),300);this.scroller.x===r.x&&this.scroller.y===r.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=r,this.scroller.scrollTo(r.x,r.y,a,o))}this.moved&&this.scroller.trigger("scrollEnd",{x:this.scroller.x,y:this.scroller.y})}},g.prototype._pos=function(t,e){t<0?t=0:t>this.maxPosX&&(t=this.maxPosX),e<0?e=0:e>this.maxPosY&&(e=this.maxPosY),t=Math.round(t/this.sizeRatioX),e=Math.round(e/this.sizeRatioY),this.scroller.scrollTo(t,e),this.scroller.trigger("scroll",{x:this.scroller.x,y:this.scroller.y})},g.prototype._calculate=function(){if("vertical"===this.direction){var t=this.wrapper.clientHeight;this.indicatorHeight=Math.max(Math.round(t*t/(this.scroller.scrollerHeight||t||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px",this.maxPosY=t-this.indicatorHeight,this.sizeRatioY=this.maxPosY/this.scroller.maxScrollY}else{var e=this.wrapper.clientWidth;this.indicatorWidth=Math.max(Math.round(e*e/(this.scroller.scrollerWidth||e||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px",this.maxPosX=e-this.indicatorWidth,this.sizeRatioX=this.maxPosX/this.scroller.maxScrollX}},g.prototype._addDOMEvents=function(){var t=s;this._handleDOMEvents(t)},g.prototype._removeDOMEvents=function(){var t=n;this._handleDOMEvents(t),this._handleMoveEvents(t)},g.prototype._handleMoveEvents=function(t){this.scroller.options.disableTouch||t(window,"touchmove",this),this.scroller.options.disableMouse||t(window,"mousemove",this)},g.prototype._handleDOMEvents=function(t){this.scroller.options.disableTouch||(t(this.indicator,"touchstart",this),t(window,"touchend",this)),this.scroller.options.disableMouse||(t(this.indicator,"mousedown",this),t(window,"mouseup",this))},function(t){t.prototype._init=function(t,e){this._handleOptions(e),this._events={},this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._addDOMEvents(),this._initExtFeatures(),this._watchTransition(),this.options.observeDOM&&this._initDOMObserver(),this.options.autoBlur&&this._handleAutoBlur(),this.refresh(),this.options.snap||this.scrollTo(this.options.startX,this.options.startY),this.enable()},t.prototype._handleOptions=function(t){this.options=e({},L,t),this.translateZ=this.options.HWCompositing&&E?" translateZ(0)":"",this.options.useTransition=this.options.useTransition&&D,this.options.useTransform=this.options.useTransform&&I,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollX="horizontal"!==this.options.eventPassthrough&&this.options.scrollX,this.options.scrollY="vertical"!==this.options.eventPassthrough&&this.options.scrollY,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,!0===this.options.tap&&(this.options.tap="tap")},t.prototype._addDOMEvents=function(){var t=s;this._handleDOMEvents(t)},t.prototype._removeDOMEvents=function(){var t=n;this._handleDOMEvents(t)},t.prototype._handleDOMEvents=function(t){var e=this.options.bindToWrapper?this.wrapper:window;t(window,"orientationchange",this),t(window,"resize",this),this.options.click&&t(this.wrapper,"click",this,!0),this.options.disableMouse||(t(this.wrapper,"mousedown",this),t(e,"mousemove",this),t(e,"mousecancel",this),t(e,"mouseup",this)),M&&!this.options.disableTouch&&(t(this.wrapper,"touchstart",this),t(e,"touchmove",this),t(e,"touchcancel",this),t(e,"touchend",this)),t(this.scroller,Y.transitionEnd,this)},t.prototype._initExtFeatures=function(){this.options.snap&&this._initSnap(),this.options.scrollbar&&this._initScrollbar(),this.options.pullUpLoad&&this._initPullUp(),this.options.pullDownRefresh&&this._initPullDown(),this.options.wheel&&this._initWheel(),this.options.mouseWheel&&this._initMouseWheel()},t.prototype._watchTransition=function(){if("function"==typeof Object.defineProperty){var t=this,e=!1;Object.defineProperty(this,"isInTransition",{get:function(){return e},set:function(i){e=i;for(var s=t.scroller.children.length?t.scroller.children:[t.scroller],n=e&&!t.pulling?"none":"auto",o=0;o<s.length;o++)s[o].style.pointerEvents=n}})}},t.prototype._handleAutoBlur=function(){this.on("beforeScrollStart",function(){var t=document.activeElement;!t||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName||t.blur()})},t.prototype._initDOMObserver=function(){var t=this;if("undefined"!=typeof MutationObserver){var e=void 0,i=new MutationObserver(function(i){if(!t._shouldNotRefresh()){for(var s=!1,n=!1,o=0;o<i.length;o++){var r=i[o];if("attributes"!==r.type){s=!0;break}if(r.target!==t.scroller){n=!0;break}}s?t.refresh():n&&(clearTimeout(e),e=setTimeout(function(){t._shouldNotRefresh()||t.refresh()},60))}}),s={attributes:!0,childList:!0,subtree:!0};i.observe(this.scroller,s),this.on("destroy",function(){i.disconnect()})}else this._checkDOMUpdate()},t.prototype._shouldNotRefresh=function(){var t=this.x>0||this.x<this.maxScrollX||this.y>0||this.y<this.maxScrollY;return this.isInTransition||this.stopFromTransition||t},t.prototype._checkDOMUpdate=function(){function t(){if(!this.destroyed){var t=(i=r(this.scroller)).width,o=i.height;s===t&&n===o||this.refresh(),s=t,n=o,e.call(this)}}function e(){var e=this;setTimeout(function(){t.call(e)},1e3)}var i=r(this.scroller),s=i.width,n=i.height;e.call(this)},t.prototype.handleEvent=function(t){switch(t.type){case"touchstart":case"mousedown":this._start(t);break;case"touchmove":case"mousemove":this._move(t);break;case"touchend":case"mouseup":case"touchcancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"click":this.enabled&&!t._constructed&&(a(t.target,this.options.preventDefaultException)||(t.preventDefault(),t.stopPropagation()));break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._onMouseWheel(t)}},t.prototype.refresh=function(){var t=r(this.wrapper);this.wrapperWidth=t.width,this.wrapperHeight=t.height;var e=r(this.scroller);this.scrollerWidth=e.width,this.scrollerHeight=e.height;var i=this.options.wheel;i?(this.items=this.scroller.children,this.options.itemHeight=this.itemHeight=this.items.length?this.scrollerHeight/this.items.length:0,void 0===this.selectedIndex&&(this.selectedIndex=i.selectedIndex||0),this.options.startY=-this.selectedIndex*this.itemHeight,this.maxScrollX=0,this.maxScrollY=-this.itemHeight*(this.items.length-1)):(this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight),this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=o(this.wrapper),this.trigger("refresh"),this.resetPosition()},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1}}(f),function(e){e.prototype._start=function(e){var i=A[e.type];if((i===P||0===e.button)&&!(!this.enabled||this.destroyed||this.initiated&&this.initiated!==i)){this.initiated=i,this.options.preventDefault&&!a(e.target,this.options.preventDefaultException)&&e.preventDefault(),this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.movingDirectionX=0,this.movingDirectionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=t(),this.options.wheel&&(this.target=e.target),this.stop();var s=e.touches?e.touches[0]:e;this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=s.pageX,this.pointY=s.pageY,this.trigger("beforeScrollStart")}},e.prototype._move=function(e){if(this.enabled&&!this.destroyed&&A[e.type]===this.initiated){this.options.preventDefault&&e.preventDefault();var i=e.touches?e.touches[0]:e,s=i.pageX-this.pointX,n=i.pageY-this.pointY;this.pointX=i.pageX,this.pointY=i.pageY,this.distX+=s,this.distY+=n;var o=Math.abs(this.distX),r=Math.abs(this.distY),a=t();if(!(a-this.endTime>this.options.momentumLimitTime&&r<this.options.momentumLimitDistance&&o<this.options.momentumLimitDistance)){if(this.directionLocked||this.options.freeScroll||(o>r+this.options.directionLockThreshold?this.directionLocked="h":r>=o+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"===this.directionLocked){if("vertical"===this.options.eventPassthrough)e.preventDefault();else if("horizontal"===this.options.eventPassthrough)return void(this.initiated=!1);n=0}else if("v"===this.directionLocked){if("horizontal"===this.options.eventPassthrough)e.preventDefault();else if("vertical"===this.options.eventPassthrough)return void(this.initiated=!1);s=0}s=this.hasHorizontalScroll?s:0,n=this.hasVerticalScroll?n:0,this.movingDirectionX=s>0?W:s<0?V:0,this.movingDirectionY=n>0?C:n<0?N:0;var l=this.x+s,h=this.y+n;(l>0||l<this.maxScrollX)&&(l=this.options.bounce?this.x+s/3:l>0?0:this.maxScrollX),(h>0||h<this.maxScrollY)&&(h=this.options.bounce?this.y+n/3:h>0?0:this.maxScrollY),this.moved||(this.moved=!0,this.trigger("scrollStart")),this._translate(l,h),a-this.startTime>this.options.momentumLimitTime&&(this.startTime=a,this.startX=this.x,this.startY=this.y,1===this.options.probeType&&this.trigger("scroll",{x:this.x,y:this.y})),this.options.probeType>1&&this.trigger("scroll",{x:this.x,y:this.y});var c=document.documentElement.scrollLeft||window.pageXOffset||document.body.scrollLeft,p=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop,d=this.pointX-c,u=this.pointY-p;(d>document.documentElement.clientWidth-this.options.momentumLimitDistance||d<this.options.momentumLimitDistance||u<this.options.momentumLimitDistance||u>document.documentElement.clientHeight-this.options.momentumLimitDistance)&&this._end(e)}}},e.prototype._end=function(e){if(this.enabled&&!this.destroyed&&A[e.type]===this.initiated){this.initiated=!1,this.options.preventDefault&&!a(e.target,this.options.preventDefaultException)&&e.preventDefault(),this.trigger("touchEnd",{x:this.x,y:this.y}),this.isInTransition=!1;var i=Math.round(this.x),s=Math.round(this.y),n=i-this.absStartX,o=s-this.absStartY;if(this.directionX=n>0?W:n<0?V:0,this.directionY=o>0?C:o<0?N:0,!this.options.pullDownRefresh||!this._checkPullDown())if(this._checkClick(e))this.trigger("scrollCancel");else if(!this.resetPosition(this.options.bounceTime,X.bounce)){this.scrollTo(i,s),this.endTime=t();var r=this.endTime-this.startTime,l=Math.abs(i-this.startX),h=Math.abs(s-this.startY);if(this._events.flick&&r<this.options.flickLimitTime&&l<this.options.flickLimitDistance&&h<this.options.flickLimitDistance)this.trigger("flick");else{var c=0;if(this.options.momentum&&r<this.options.momentumLimitTime&&(h>this.options.momentumLimitDistance||l>this.options.momentumLimitDistance)){var p=this.hasHorizontalScroll?u(this.x,this.startX,r,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options):{destination:i,duration:0},d=this.hasVerticalScroll?u(this.y,this.startY,r,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options):{destination:s,duration:0};i=p.destination,s=d.destination,c=Math.max(p.duration,d.duration),this.isInTransition=!0}else this.options.wheel&&(s=Math.round(s/this.itemHeight)*this.itemHeight,c=this.options.wheel.adjustTime||400);var m=X.swipe;if(this.options.snap){var v=this._nearestSnap(i,s);this.currentPage=v,c=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(i-v.x),1e3),Math.min(Math.abs(s-v.y),1e3)),300),i=v.x,s=v.y,this.directionX=0,this.directionY=0,m=this.options.snap.easing||X.bounce}if(i!==this.x||s!==this.y)return(i>0||i<this.maxScrollX||s>0||s<this.maxScrollY)&&(m=X.swipeBounce),void this.scrollTo(i,s,c,m);this.options.wheel&&(this.selectedIndex=Math.round(Math.abs(this.y/this.itemHeight))),this.trigger("scrollEnd",{x:this.x,y:this.y})}}}},e.prototype._checkClick=function(t){var e=this.stopFromTransition&&!this.pulling;if(this.stopFromTransition=!1,!this.moved){if(this.options.wheel){if(this.target&&this.target.className===this.options.wheel.wheelWrapperClass){var i=Math.abs(Math.round(this.y/this.itemHeight)),s=Math.round((this.pointY+o(this.target).top-this.itemHeight/2)/this.itemHeight);this.target=this.items[i+s]}return this.scrollToElement(this.target,this.options.wheel.adjustTime||400,!0,!0,X.swipe),!0}return!e&&(this.options.tap&&l(t,this.options.tap),this.options.click&&!a(t.target,this.options.preventDefaultException)&&h(t),!0)}return!1},e.prototype._resize=function(){var t=this;this.enabled&&(_&&(this.wrapper.scrollTop=0),clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling))},e.prototype._startProbe=function(){function t(){var i=e.getComputedPosition();e.trigger("scroll",i),e.isInTransition?e.probeTimer=H(t):e.trigger("scrollEnd",i)}O(this.probeTimer),this.probeTimer=H(t);var e=this},e.prototype._transitionProperty=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";this.scrollerStyle[Y.transitionProperty]=t},e.prototype._transitionTime=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.scrollerStyle[Y.transitionDuration]=t+"ms",this.options.wheel)for(var e=0;e<this.items.length;e++)this.items[e].style[Y.transitionDuration]=t+"ms";if(this.indicators)for(var i=0;i<this.indicators.length;i++)this.indicators[i].transitionTime(t)},e.prototype._transitionTimingFunction=function(t){if(this.scrollerStyle[Y.transitionTimingFunction]=t,this.options.wheel)for(var e=0;e<this.items.length;e++)this.items[e].style[Y.transitionTimingFunction]=t;if(this.indicators)for(var i=0;i<this.indicators.length;i++)this.indicators[i].transitionTimingFunction(t)},e.prototype._transitionEnd=function(t){t.target===this.scroller&&this.isInTransition&&(this._transitionTime(),this.pulling||this.resetPosition(this.options.bounceTime,X.bounce)||(this.isInTransition=!1,3!==this.options.probeType&&this.trigger("scrollEnd",{x:this.x,y:this.y})))},e.prototype._translate=function(t,e){if(this.options.useTransform?this.scrollerStyle[Y.transform]="translate("+t+"px,"+e+"px)"+this.translateZ:(t=Math.round(t),e=Math.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.options.wheel)for(var i=this.options.wheel.rotate,s=void 0===i?25:i,n=0;n<this.items.length;n++){var o=s*(e/this.itemHeight+n);this.items[n].style[Y.transform]="rotateX("+o+"deg)"}if(this.x=t,this.y=e,this.indicators)for(var r=0;r<this.indicators.length;r++)this.indicators[r].updatePosition()},e.prototype._animate=function(e,i,s,n){function o(){var p=t();if(p>=c)return r.isAnimating=!1,r._translate(e,i),void(r.pulling||r.resetPosition(r.options.bounceTime)||r.trigger("scrollEnd",{x:r.x,y:r.y}));var d=n(p=(p-h)/s),u=(e-a)*d+a,m=(i-l)*d+l;r._translate(u,m),r.isAnimating&&(r.animateTimer=H(o)),3===r.options.probeType&&r.trigger("scroll",{x:r.x,y:r.y})}var r=this,a=this.x,l=this.y,h=t(),c=h+s;this.isAnimating=!0,O(this.animateTimer),o()},e.prototype.scrollBy=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:X.bounce;t=this.x+t,e=this.y+e,this.scrollTo(t,e,i,s)},e.prototype.scrollTo=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:X.bounce;this.isInTransition=this.options.useTransition&&i>0&&(t!==this.x||e!==this.y),!i||this.options.useTransition?(this._transitionProperty(),this._transitionTimingFunction(s.style),this._transitionTime(i),this._translate(t,e),i&&3===this.options.probeType&&this._startProbe(),this.options.wheel&&(e>0?this.selectedIndex=0:e<this.maxScrollY?this.selectedIndex=this.items.length-1:this.selectedIndex=Math.round(Math.abs(e/this.itemHeight)))):this._animate(t,e,i,s.fn)},e.prototype.scrollToElement=function(t,e,i,s,n){if(t&&(t=t.nodeType?t:this.scroller.querySelector(t),!this.options.wheel||t.className===this.options.wheel.wheelItemClass)){var r=o(t);r.left-=this.wrapperOffset.left,r.top-=this.wrapperOffset.top,!0===i&&(i=Math.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),
!0===s&&(s=Math.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),r.left-=i||0,r.top-=s||0,r.left=r.left>0?0:r.left<this.maxScrollX?this.maxScrollX:r.left,r.top=r.top>0?0:r.top<this.maxScrollY?this.maxScrollY:r.top,this.options.wheel&&(r.top=Math.round(r.top/this.itemHeight)*this.itemHeight),this.scrollTo(r.left,r.top,e,n)}},e.prototype.resetPosition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X.bounce,i=this.x,s=Math.round(i);!this.hasHorizontalScroll||s>0?i=0:s<this.maxScrollX&&(i=this.maxScrollX);var n=this.y,o=Math.round(n);return!this.hasVerticalScroll||o>0?n=0:o<this.maxScrollY&&(n=this.maxScrollY),(i!==this.x||n!==this.y)&&(this.scrollTo(i,n,t,e),!0)},e.prototype.getComputedPosition=function(){var t=window.getComputedStyle(this.scroller,null),e=void 0,i=void 0;return this.options.useTransform?(e=+((t=t[Y.transform].split(")")[0].split(", "))[12]||t[4]),i=+(t[13]||t[5])):(e=+t.left.replace(/[^-\d.]/g,""),i=+t.top.replace(/[^-\d.]/g,"")),{x:e,y:i}},e.prototype.stop=function(){if(this.options.useTransition&&this.isInTransition){this.isInTransition=!1;var t=this.getComputedPosition();this._translate(t.x,t.y),this.options.wheel?this.target=this.items[Math.round(-t.y/this.itemHeight)]:this.trigger("scrollEnd",{x:this.x,y:this.y}),this.stopFromTransition=!0}else!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this.trigger("scrollEnd",{x:this.x,y:this.y}),this.stopFromTransition=!0)},e.prototype.destroy=function(){this.destroyed=!0,this.trigger("destroy"),this._removeDOMEvents(),this._events={}}}(f),function(t){t.prototype.on=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;this._events[t]||(this._events[t]=[]),this._events[t].push([e,i])},t.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(s,arguments)}var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;i.fn=e,this.on(t,i)},t.prototype.off=function(t,e){var i=this._events[t];if(i)for(var s=i.length;s--;)(i[s][0]===e||i[s][0]&&i[s][0].fn===e)&&(i[s][0]=void 0)},t.prototype.trigger=function(t){var e=this._events[t];if(e)for(var i=e.length,s=[].concat(b(e)),n=0;n<i;n++){var o=s[n],r=y(o,2),a=r[0],l=r[1];a&&a.apply(l,[].slice.call(arguments,1))}}}(f),function(t){t.prototype._initSnap=function(){var t=this;this.currentPage={};var e=this.options.snap;if(e.loop){var i=this.scroller.children;i.length>0&&(c(i[i.length-1].cloneNode(!0),this.scroller),this.scroller.appendChild(i[1].cloneNode(!0)))}var s=e.el;"string"==typeof s&&(s=this.scroller.querySelectorAll(s)),this.on("refresh",function(){if(t.pages=[],t.wrapperWidth&&t.wrapperHeight&&t.scrollerWidth&&t.scrollerHeight){var i=e.stepX||t.wrapperWidth,n=e.stepY||t.wrapperHeight,o=0,a=void 0,l=void 0,h=void 0,c=0,p=void 0,d=0,u=void 0,m=void 0;if(s)for(p=s.length,u=-1;c<p;c++)m=r(s[c]),(0===c||m.left<=r(s[c-1]).left)&&(d=0,u++),t.pages[d]||(t.pages[d]=[]),o=Math.max(-m.left,t.maxScrollX),a=Math.max(-m.top,t.maxScrollY),l=o-Math.round(m.width/2),h=a-Math.round(m.height/2),t.pages[d][u]={x:o,y:a,width:m.width,height:m.height,cx:l,cy:h},o>t.maxScrollX&&d++;else for(l=Math.round(i/2),h=Math.round(n/2);o>-t.scrollerWidth;){for(t.pages[c]=[],p=0,a=0;a>-t.scrollerHeight;)t.pages[c][p]={x:Math.max(o,t.maxScrollX),y:Math.max(a,t.maxScrollY),width:i,height:n,cx:o-l,cy:a-h},a-=n,p++;o-=i,c++}var v=e.loop?1:0;t._goToPage(t.currentPage.pageX||v,t.currentPage.pageY||0,0);var g=e.threshold;g%1==0?(t.snapThresholdX=g,t.snapThresholdY=g):(t.snapThresholdX=Math.round(t.pages[t.currentPage.pageX][t.currentPage.pageY].width*g),t.snapThresholdY=Math.round(t.pages[t.currentPage.pageX][t.currentPage.pageY].height*g))}}),this.on("scrollEnd",function(){e.loop&&(0===t.currentPage.pageX&&t._goToPage(t.pages.length-2,t.currentPage.pageY,0),t.currentPage.pageX===t.pages.length-1&&t._goToPage(1,t.currentPage.pageY,0))}),!1!==e.listenFlick&&this.on("flick",function(){var i=e.speed||Math.max(Math.max(Math.min(Math.abs(t.x-t.startX),1e3),Math.min(Math.abs(t.y-t.startY),1e3)),300);t._goToPage(t.currentPage.pageX+t.directionX,t.currentPage.pageY+t.directionY,i)}),this.on("destroy",function(){if(e.loop){var i=t.scroller.children;i.length>2&&(d(t.scroller,i[i.length-1]),d(t.scroller,i[0]))}})},t.prototype._nearestSnap=function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var i=0;if(Math.abs(t-this.absStartX)<=this.snapThresholdX&&Math.abs(e-this.absStartY)<=this.snapThresholdY)return this.currentPage;t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX),e>0?e=0:e<this.maxScrollY&&(e=this.maxScrollY);for(var s=this.pages.length;i<s;i++)if(t>=this.pages[i][0].cx){t=this.pages[i][0].x;break}s=this.pages[i].length;for(var n=0;n<s;n++)if(e>=this.pages[0][n].cy){e=this.pages[0][n].y;break}return i===this.currentPage.pageX&&((i+=this.directionX)<0?i=0:i>=this.pages.length&&(i=this.pages.length-1),t=this.pages[i][0].x),n===this.currentPage.pageY&&((n+=this.directionY)<0?n=0:n>=this.pages[0].length&&(n=this.pages[0].length-1),e=this.pages[0][n].y),{x:t,y:e,pageX:i,pageY:n}},t.prototype._goToPage=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments[2],s=arguments[3],n=this.options.snap;if(n&&this.pages&&(s=s||n.easing||X.bounce,t>=this.pages.length?t=this.pages.length-1:t<0&&(t=0),this.pages[t])){e>=this.pages[t].length?e=this.pages[t].length-1:e<0&&(e=0);var o=this.pages[t][e].x,r=this.pages[t][e].y;i=void 0===i?n.speed||Math.max(Math.max(Math.min(Math.abs(o-this.x),1e3),Math.min(Math.abs(r-this.y),1e3)),300):i,this.currentPage={x:o,y:r,pageX:t,pageY:e},this.scrollTo(o,r,i,s)}},t.prototype.goToPage=function(t,e,i,s){var n=this.options.snap;if(n){if(n.loop){var o=this.pages.length-2;t>=o?t=o-1:t<0&&(t=0),t+=1}this._goToPage(t,e,i,s)}},t.prototype.next=function(t,e){var i=this.currentPage.pageX,s=this.currentPage.pageY;++i>=this.pages.length&&this.hasVerticalScroll&&(i=0,s++),this._goToPage(i,s,t,e)},t.prototype.prev=function(t,e){var i=this.currentPage.pageX,s=this.currentPage.pageY;--i<0&&this.hasVerticalScroll&&(i=0,s--),this._goToPage(i,s,t,e)},t.prototype.getCurrentPage=function(){var t=this.options.snap;return t?t.loop?e({},this.currentPage,{pageX:this.currentPage.pageX-1}):this.currentPage:null}}(f),function(t){t.prototype.wheelTo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.options.wheel&&(this.y=-t*this.itemHeight,this.scrollTo(0,this.y))},t.prototype.getSelectedIndex=function(){return this.options.wheel&&this.selectedIndex},t.prototype._initWheel=function(){var t=this.options.wheel;t.wheelWrapperClass||(t.wheelWrapperClass="wheel-scroll"),t.wheelItemClass||(t.wheelItemClass="wheel-item"),void 0===t.selectedIndex&&(t.selectedIndex=0,m("wheel option selectedIndex is required!"))}}(f),function(t){t.prototype._initScrollbar=function(){var t=this,e=this.options.scrollbar,i=e.fade,s=void 0===i||i,n=e.interactive,o=void 0!==n&&n;this.indicators=[];var r=void 0;this.options.scrollX&&(r={el:v("horizontal"),direction:"horizontal",fade:s,interactive:o},this._insertScrollBar(r.el),this.indicators.push(new g(this,r))),this.options.scrollY&&(r={el:v("vertical"),direction:"vertical",fade:s,interactive:o},this._insertScrollBar(r.el),this.indicators.push(new g(this,r))),this.on("refresh",function(){for(var e=0;e<t.indicators.length;e++)t.indicators[e].refresh()}),s&&(this.on("scrollEnd",function(){for(var e=0;e<t.indicators.length;e++)t.indicators[e].fade()}),this.on("scrollCancel",function(){for(var e=0;e<t.indicators.length;e++)t.indicators[e].fade()}),this.on("scrollStart",function(){for(var e=0;e<t.indicators.length;e++)t.indicators[e].fade(!0)}),this.on("beforeScrollStart",function(){for(var e=0;e<t.indicators.length;e++)t.indicators[e].fade(!0,!0)})),this.on("destroy",function(){t._removeScrollBars()})},t.prototype._insertScrollBar=function(t){this.wrapper.appendChild(t)},t.prototype._removeScrollBars=function(){for(var t=0;t<this.indicators.length;t++)this.indicators[t].destroy()}}(f),function(t){t.prototype._initPullDown=function(){this.options.probeType=3},t.prototype._checkPullDown=function(){var t=this.options.pullDownRefresh,e=t.threshold,i=void 0===e?90:e,s=t.stop,n=void 0===s?40:s;return!(this.directionY!==C||this.y<i)&&(this.pulling||(this.pulling=!0,this.trigger("pullingDown")),this.scrollTo(this.x,n,this.options.bounceTime,X.bounce),this.pulling)},t.prototype.finishPullDown=function(){this.pulling=!1,this.resetPosition(this.options.bounceTime,X.bounce)}}(f),function(t){t.prototype._initPullUp=function(){this.options.probeType=3,this.pullupWatching=!1,this._watchPullUp()},t.prototype._watchPullUp=function(){function t(e){var s=this;this.movingDirectionY===N&&e.y<=this.maxScrollY+i&&(this.once("scrollEnd",function(){s.pullupWatching=!1}),this.trigger("pullingUp"),this.off("scroll",t))}this.pullupWatching=!0;var e=this.options.pullUpLoad.threshold,i=void 0===e?0:e;this.on("scroll",t)},t.prototype.finishPullUp=function(){var t=this;this.pullupWatching?this.once("scrollEnd",function(){t._watchPullUp()}):this._watchPullUp()}}(f),function(t){t.prototype._initMouseWheel=function(){var t=this;this._handleMouseWheelEvent(s),this.on("destroy",function(){clearTimeout(t.mouseWheelTimer),t._handleMouseWheelEvent(n)}),this.firstWheelOpreation=!0},t.prototype._handleMouseWheelEvent=function(t){t(this.wrapper,"wheel",this),t(this.wrapper,"mousewheel",this),t(this.wrapper,"DOMMouseScroll",this)},t.prototype._onMouseWheel=function(t){var e=this;if(this.enabled){t.preventDefault(),this.firstWheelOpreation&&this.trigger("scrollStart"),this.firstWheelOpreation=!1,clearTimeout(this.mouseWheelTimer),this.mouseWheelTimer=setTimeout(function(){e.options.snap||e.trigger("scrollEnd",{x:e.x,y:e.y}),e.firstWheelOpreation=!0},400);var i=this.options.mouseWheel,s=i.speed,n=void 0===s?20:s,o=i.invert,r=void 0!==o&&o,a=void 0,l=void 0;switch(!0){case"deltaX"in t:1===t.deltaMode?(a=-t.deltaX*n,l=-t.deltaY*n):(a=-t.deltaX,l=-t.deltaY);break;case"wheelDeltaX"in t:a=t.wheelDeltaX/120*n,l=t.wheelDeltaY/120*n;break;case"wheelDelta"in t:a=l=t.wheelDelta/120*n;break;case"detail"in t:a=l=-t.detail/3*n;break;default:return}var h=r?-1:1;a*=h,l*=h,this.hasVerticalScroll||(a=l,l=0);var c=void 0,p=void 0;if(this.options.snap)return c=this.currentPage.pageX,p=this.currentPage.pageY,a>0?c--:a<0&&c++,l>0?p--:l<0&&p++,void this._goToPage(c,p);c=this.x+Math.round(this.hasHorizontalScroll?a:0),p=this.y+Math.round(this.hasVerticalScroll?l:0),this.directionX=a>0?-1:a<0?1:0,this.directionY=l>0?-1:l<0?1:0,c>0?c=0:c<this.maxScrollX&&(c=this.maxScrollX),p>0?p=0:p<this.maxScrollY&&(p=this.maxScrollY),this.scrollTo(c,p),this.trigger("scroll",{x:this.x,y:this.y})}}}(f),f.Version="1.8.0",f}),function(t,e,i,s){var n=30,o=90,r=40,a=10,l=t.rad2deg=function(t){return t/(Math.PI/180)},h=(t.deg2rad=function(t){return t*(Math.PI/180)},navigator.platform.toLowerCase()),c=navigator.userAgent.toLowerCase(),p=((c.indexOf("iphone")>-1||c.indexOf("ipad")>-1||c.indexOf("ipod")>-1)&&(h.indexOf("iphone")>-1||h.indexOf("ipad")>-1||h.indexOf("ipod")>-1),t.ULPicker=function(t,e){var i=this;i.holder=t,i.options=e||{},i.bscroll=new BScroll(i.holder.querySelector(".wrapper"),{bindToWrapper:!0}),i.init(),i.initInertiaParams(),i.calcElementItemPostion(!0),i.bindEvent()});p.prototype.findElementItems=function(){var t=this;return t.elementItems=[].slice.call(t.holder.querySelectorAll("li")),t.elementItems},p.prototype.init=function(){var t=this;t.list=t.holder.querySelector("ul"),t.findElementItems(),t.height=t.holder.offsetHeight,t.r=t.height/2-a,t.d=2*t.r,t.itemHeight=t.elementItems.length>0?t.elementItems[0].offsetHeight:r,t.itemAngle=parseInt(t.calcAngle(.8*t.itemHeight)),t.hightlightRange=t.itemAngle/2,t.visibleRange=o,t.beginAngle=0,t.beginExceed=t.beginAngle-n},p.prototype.calcElementItemPostion=function(t){var e=this;t&&(e.items=[]),e.elementItems.forEach(function(i){var s=e.elementItems.indexOf(i);if(e.endAngle=e.itemAngle*s,t){var n={};n.text=i.innerHTML||"",n.value=i.getAttribute("data-value")||n.text,e.items.push(n)}}),e.endExceed=e.endAngle+n},p.prototype.calcAngle=function(t){var e=this,i=b=parseFloat(e.r);t=Math.abs(t);var s=180*parseInt(t/e.d);t%=e.d;var n=(i*i+b*b-t*t)/(2*i*b),o=s+l(Math.acos(n));return o},p.prototype.calcElementItemVisibility=function(t){var e=this;e.elementItems.forEach(function(i){var s=Math.abs(i.angle-t);s<e.hightlightRange?i.classList.add("highlight"):s<e.visibleRange?(i.classList.add("visible"),i.classList.remove("highlight")):(i.classList.remove("highlight"),i.classList.remove("visible"))})},p.prototype.setAngle=function(t){var e=this;e.list.angle=t,e.list.style.webkitTransform="perspective(1000px) rotateY(0deg) rotateX("+t+"deg)",e.calcElementItemVisibility(t)},p.prototype.bindEvent=function(){var e=this;e.holder.addEventListener(t.EVENT_START,function(t){},!1),e.holder.addEventListener(t.EVENT_END,function(t){},!1),e.holder.addEventListener(t.EVENT_CANCEL,function(t){},!1),e.holder.addEventListener(t.EVENT_MOVE,function(t){},!1),e.list.addEventListener("tap",function(t){var i="LI"===t.target.tagName?t.target:t.target.parentElement;if(i){e.elementItems.forEach(function(t){t.classList.remove("choose")}),i.classList.add("choose");var s=e.elementItems.indexOf(i);e.setSelectedIndex(s,200)}},!1)},p.prototype.initInertiaParams=function(){var t=this;t.lastMoveTime=0,t.lastMoveStart=0,t.stopInertiaMove=!1},p.prototype.updateInertiaParams=function(t,e){var i=this,s=t.changedTouches?t.changedTouches[0]:t;if(e)i.lastMoveStart=s.pageY,i.lastMoveTime=t.timeStamp||Date.now(),i.startAngle=i.list.angle;else{var n=t.timeStamp||Date.now();i.lastMoveTime=n,i.lastMoveStart=s.pageY}i.stopInertiaMove=!0},p.prototype.startInertiaScroll=function(t){var e=this,i=t.changedTouches?t.changedTouches[0]:t,s=t.timeStamp||Date.now(),n=(i.pageY-e.lastMoveStart)/(s-e.lastMoveTime),o=n>0?-1:1,r=.2*o*-1,a=Math.abs(n/r),l=n*a/2;e.list.scrollTop-=l;var h=e.list.angle,c=e.calcAngle(l)*o,p=c;return h+c<e.beginExceed&&(c=e.beginExceed-h,a=a*(c/p)*.6),h+c>e.endExceed&&(c=e.endExceed-h,a=a*(c/p)*.6),0==c?void e.endScroll():void e.scrollDistAngle(s,h,c,a)},p.prototype.scrollDistAngle=function(t,e,i,s){var n=this;n.stopInertiaMove=!1,function(t,e,i,s){var o=13,r=s/o,a=0;!function l(){if(!n.stopInertiaMove){var t=n.quartEaseOut(a,e,i,r);return n.setAngle(t),a++,a>r-1||t<n.beginExceed||t>n.endExceed?void n.endScroll():void setTimeout(l,o)}}()}(t,e,i,s)},p.prototype.quartEaseOut=function(t,e,i,s){return-i*((t=t/s-1)*t*t*t-1)+e},p.prototype.endScroll=function(){var t=this;if(t.list.angle<t.beginAngle)t.list.style.webkitTransition="150ms ease-out",t.setAngle(t.beginAngle);else if(t.list.angle>t.endAngle)t.list.style.webkitTransition="150ms ease-out",t.setAngle(t.endAngle);else{var e=parseInt((t.list.angle/t.itemAngle).toFixed(0));t.list.style.webkitTransition="100ms ease-out",t.setAngle(t.itemAngle*e)}t.triggerChange()},p.prototype.triggerChange=function(e){var i=this;setTimeout(function(){var s=i.getSelectedIndex(),n=i.items[s];(t.trigger||e===!0)&&t.trigger(i.holder,"change",{index:s,item:n}),i.lastIndex=s,"function"==typeof e&&e()},0)},p.prototype.correctAngle=function(t){var e=this;return t<e.beginAngle?e.beginAngle:t>e.endAngle?e.endAngle:t},p.prototype.setItems=function(t){var e=this;e.items=t||[];var i=[];e.items.forEach(function(t){null!==t&&t!==s&&i.push("<li><span>"+(t.text||t)+"</span><i></i></li>")}),e.list.innerHTML=i.join(""),e.findElementItems(),e.calcElementItemPostion(),e.setAngle(e.correctAngle(e.list.angle)),e.triggerChange(!0)},p.prototype.getItems=function(){var t=this;return t.items},p.prototype.getSelectedIndex=function(){var t=this;return t.index},p.prototype.setSelectedIndex=function(t,e,i){var s=this;s.index=t,s.triggerChange(i)},p.prototype.getSelectedItem=function(){var t=this;return t.items[t.getSelectedIndex()]},p.prototype.getSelectedValue=function(){var t=this;return(t.items[t.getSelectedIndex()]||{}).value},p.prototype.getSelectedText=function(){var t=this;return(t.items[t.getSelectedIndex()]||{}).text},p.prototype.setSelectedValue=function(t,e,i){var s=this;for(var n in s.items){var o=s.items[n];if(o.value==t)return void s.setSelectedIndex(n,e,i)}},t.fn&&(t.fn.ulpicker=function(t){return this.each(function(e,i){if(!i.ulpicker)if(t)i.ulpicker=new p(i,t);else{var s=i.getAttribute("data-ulpicker-options"),n=s?JSON.parse(s):{};i.ulpicker=new p(i,n)}}),this[0]?this[0].ulpicker:null},t.ready(function(){t(".mui-ulpicker").ulpicker()}))}(window.mui||window,window,document,void 0),function(t,e){t.dom=function(i){return"string"!=typeof i?i instanceof Array||i[0]&&i.length?[].slice.call(i):[i]:(t.__create_dom_div__||(t.__create_dom_div__=e.createElement("div")),t.__create_dom_div__.innerHTML=i,[].slice.call(t.__create_dom_div__.childNodes))};var i='<div class="mui-poppicker">\t\t<div class="mui-poppicker-header">\t\t\t<button class="mui-btn mui-poppicker-btn-cancel">取消</button>\t\t\t<button class="mui-btn mui-btn-blue mui-poppicker-btn-ok">确定</button>\t\t\t<div class="mui-poppicker-clear"></div>\t\t</div>\t\t<div class="mui-poppicker-body">\t\t</div>\t</div>',s='<div class="mui-picker">\t\t<div class="mui-picker-inner">\t\t\t<div class="mui-pciker-rule mui-pciker-rule-ft"></div>\t\t\t<ul class="mui-pciker-list">\t\t\t</ul>\t\t\t<div class="mui-pciker-rule mui-pciker-rule-bg"></div>\t\t</div>\t</div>';t.PopPicker=t.Class.extend({init:function(s){var n=this;n.options=s||{},n.options.buttons=n.options.buttons||["取消","确定"],n.panel=t.dom(i)[0],e.body.appendChild(n.panel),n.ok=n.panel.querySelector(".mui-poppicker-btn-ok"),n.cancel=n.panel.querySelector(".mui-poppicker-btn-cancel"),n.body=n.panel.querySelector(".mui-poppicker-body"),n.mask=t.createMask(),n.cancel.innerText=n.options.buttons[0],n.ok.innerText=n.options.buttons[1],n.cancel.addEventListener("tap",function(t){n.hide()},!1),n.ok.addEventListener("tap",function(t){if(n.callback){var e=n.callback(n.getSelectedItems());e!==!1&&n.hide()}},!1),n.mask[0].addEventListener("tap",function(){n.hide()},!1),n._createPicker(),n.panel.addEventListener(t.EVENT_START,function(t){t.preventDefault()},!1),n.panel.addEventListener(t.EVENT_MOVE,function(t){t.preventDefault()},!1)},_createPicker:function(){var e=this,i=e.options.layer||1,n=100/i+"%";e.pickers=[];for(var o=1;o<=i;o++){var r=t.dom(s)[0];r.style.width=n,e.body.appendChild(r);var a=t(r).picker();e.pickers.push(a),r.addEventListener("change",function(t){var e=this.nextSibling;if(e&&e.picker){var i=t.detail||{},s=i.item||{};e.picker.setItems(s.children)}},!1)}},setData:function(t){var e=this;t=t||[],e.pickers[0].setItems(t)},getSelectedItems:function(){var t=this,e=[];for(var i in t.pickers){var s=t.pickers[i];e.push(s.getSelectedItem()||{})}return e},show:function(i){var s=this;s.callback=i,s.mask.show(),e.body.classList.add(t.className("poppicker-active-for-page")),s.panel.classList.add(t.className("active")),s.__back=t.back,t.back=function(){s.hide()}},hide:function(){var i=this;i.disposed||(i.panel.classList.remove(t.className("active")),i.mask.close(),e.body.classList.remove(t.className("poppicker-active-for-page")),t.back=i.__back)},dispose:function(){var t=this;t.hide(),setTimeout(function(){t.panel.parentNode.removeChild(t.panel);for(var e in t)t[e]=null,delete t[e];t.disposed=!0},300)}})}(mui,document),function(t,e){t.dom=function(i){return"string"!=typeof i?i instanceof Array||i[0]&&i.length?[].slice.call(i):[i]:(t.__create_dom_div__||(t.__create_dom_div__=e.createElement("div")),t.__create_dom_div__.innerHTML=i,[].slice.call(t.__create_dom_div__.childNodes))};var i='<div class="mui-dtpicker" data-type="datetime">\t\t<div class="mui-dtpicker-header">\t\t\t<button data-id="btn-cancel" class="mui-btn">取消</button>\t\t\t<button data-id="btn-ok" class="mui-btn mui-btn-blue">确定</button>\t\t</div>\t\t<div class="mui-dtpicker-title"><h5 data-id="title-y">年</h5><h5 data-id="title-m">月</h5><h5 data-id="title-d">日</h5><h5 data-id="title-h">时</h5><h5 data-id="title-i">分</h5></div>\t\t<div class="mui-dtpicker-body">\t\t\t<div data-id="picker-y" class="mui-picker">\t\t\t\t<div class="mui-picker-inner">\t\t\t\t\t<div class="mui-pciker-rule mui-pciker-rule-ft"></div>\t\t\t\t\t<ul class="mui-pciker-list">\t\t\t\t\t</ul>\t\t\t\t\t<div class="mui-pciker-rule mui-pciker-rule-bg"></div>\t\t\t\t</div>\t\t\t</div>\t\t\t<div data-id="picker-m" class="mui-picker">\t\t\t\t<div class="mui-picker-inner">\t\t\t\t\t<div class="mui-pciker-rule mui-pciker-rule-ft"></div>\t\t\t\t\t<ul class="mui-pciker-list">\t\t\t\t\t</ul>\t\t\t\t\t<div class="mui-pciker-rule mui-pciker-rule-bg"></div>\t\t\t\t</div>\t\t\t</div>\t\t\t<div data-id="picker-d" class="mui-picker">\t\t\t\t<div class="mui-picker-inner">\t\t\t\t\t<div class="mui-pciker-rule mui-pciker-rule-ft"></div>\t\t\t\t\t<ul class="mui-pciker-list">\t\t\t\t\t</ul>\t\t\t\t\t<div class="mui-pciker-rule mui-pciker-rule-bg"></div>\t\t\t\t</div>\t\t\t</div>\t\t\t<div data-id="picker-h" class="mui-picker">\t\t\t\t<div class="mui-picker-inner">\t\t\t\t\t<div class="mui-pciker-rule mui-pciker-rule-ft"></div>\t\t\t\t\t<ul class="mui-pciker-list">\t\t\t\t\t</ul>\t\t\t\t\t<div class="mui-pciker-rule mui-pciker-rule-bg"></div>\t\t\t\t</div>\t\t\t</div>\t\t\t<div data-id="picker-i" class="mui-picker">\t\t\t\t<div class="mui-picker-inner">\t\t\t\t\t<div class="mui-pciker-rule mui-pciker-rule-ft"></div>\t\t\t\t\t<ul class="mui-pciker-list">\t\t\t\t\t</ul>\t\t\t\t\t<div class="mui-pciker-rule mui-pciker-rule-bg"></div>\t\t\t\t</div>\t\t\t</div>\t\t</div>\t</div>';t.DtPicker=t.Class.extend({init:function(s){var n=this,o=t.dom(i)[0];e.body.appendChild(o),t('[data-id*="picker"]',o).picker();var r=n.ui={picker:o,mask:t.createMask(),ok:t('[data-id="btn-ok"]',o)[0],cancel:t('[data-id="btn-cancel"]',o)[0],y:t('[data-id="picker-y"]',o)[0],m:t('[data-id="picker-m"]',o)[0],d:t('[data-id="picker-d"]',o)[0],h:t('[data-id="picker-h"]',o)[0],i:t('[data-id="picker-i"]',o)[0],labels:t('[data-id*="title-"]',o)};r.cancel.addEventListener("tap",function(){n.hide()},!1),r.ok.addEventListener("tap",function(){var t=n.callback(n.getSelected());t!==!1&&n.hide()},!1),r.y.addEventListener("change",function(t){n.options.beginMonth||n.options.endMonth?n._createMonth():n._createDay()},!1),r.m.addEventListener("change",function(t){n._createDay()},!1),r.d.addEventListener("change",function(t){(n.options.beginMonth||n.options.endMonth)&&n._createHours()},!1),r.h.addEventListener("change",function(t){(n.options.beginMonth||n.options.endMonth)&&n._createMinutes()},!1),r.mask[0].addEventListener("tap",function(){n.hide()},!1),n._create(s),n.ui.picker.addEventListener(t.EVENT_START,function(t){t.preventDefault()},!1),n.ui.picker.addEventListener(t.EVENT_MOVE,function(t){t.preventDefault()},!1)},getSelected:function(){var t=this,e=t.ui,i=t.options.type,s={type:i,y:e.y.picker.getSelectedItem(),m:e.m.picker.getSelectedItem(),d:e.d.picker.getSelectedItem(),h:e.h.picker.getSelectedItem(),i:e.i.picker.getSelectedItem(),toString:function(){return this.value}};switch(i){case"datetime":s.value=s.y.value+"-"+s.m.value+"-"+s.d.value+" "+s.h.value+":"+s.i.value,s.text=s.y.text+"-"+s.m.text+"-"+s.d.text+" "+s.h.text+":"+s.i.text;break;case"date":s.value=s.y.value+"-"+s.m.value+"-"+s.d.value,s.text=s.y.text+"-"+s.m.text+"-"+s.d.text;break;case"time":s.value=s.h.value+":"+s.i.value,s.text=s.h.text+":"+s.i.text;break;case"month":s.value=s.y.value+"-"+s.m.value,s.text=s.y.text+"-"+s.m.text;break;case"hour":s.value=s.y.value+"-"+s.m.value+"-"+s.d.value+" "+s.h.value,s.text=s.y.text+"-"+s.m.text+"-"+s.d.text+" "+s.h.text}return s},setSelectedValue:function(t){var e=this,i=e.ui,s=e._parseValue(t);i.y.picker.setSelectedValue(s.y,0,function(){i.m.picker.setSelectedValue(s.m,0,function(){i.d.picker.setSelectedValue(s.d,0,function(){i.h.picker.setSelectedValue(s.h,0,function(){i.i.picker.setSelectedValue(s.i,0)})})})})},isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},_inArray:function(t,e){for(var i in t){var s=t[i];if(s===e)return!0}return!1},getDayNum:function(t,e){var i=this;return i._inArray([1,3,5,7,8,10,12],e)?31:i._inArray([4,6,9,11],e)?30:i.isLeapYear(t)?29:28},_fill:function(t){return t=t.toString(),t.length<2&&(t=0+t),t},_isBeginYear:function(){return this.options.beginYear===parseInt(this.ui.y.picker.getSelectedValue())},_isBeginMonth:function(){return this.options.beginMonth&&this._isBeginYear()&&this.options.beginMonth===parseInt(this.ui.m.picker.getSelectedValue())},_isBeginDay:function(){return this._isBeginMonth()&&this.options.beginDay===parseInt(this.ui.d.picker.getSelectedValue())},_isBeginHours:function(){return this._isBeginDay()&&this.options.beginHours===parseInt(this.ui.h.picker.getSelectedValue())},_isEndYear:function(){return this.options.endYear===parseInt(this.ui.y.picker.getSelectedValue())},_isEndMonth:function(){return this.options.endMonth&&this._isEndYear()&&this.options.endMonth===parseInt(this.ui.m.picker.getSelectedValue())},_isEndDay:function(){return this._isEndMonth()&&this.options.endDay===parseInt(this.ui.d.picker.getSelectedValue())},_isEndHours:function(){return this._isEndDay()&&this.options.endHours===parseInt(this.ui.h.picker.getSelectedValue())},_createYear:function(t){var e=this,i=e.options,s=e.ui,n=[];if(i.customData.y)n=i.customData.y;else for(var o=i.beginYear,r=i.endYear,a=o;a<=r;a++)n.push({text:a+"",value:a});s.y.picker.setItems(n)},_createMonth:function(t){var e=this,i=e.options,s=e.ui,n=[];if(i.customData.m)n=i.customData.m;else for(var o=i.beginMonth&&e._isBeginYear()?i.beginMonth:1,r=i.endMonth&&e._isEndYear()?i.endMonth:12;o<=r;o++){var a=e._fill(o);n.push({text:a,value:a})}s.m.picker.setItems(n)},_createDay:function(t){var e=this,i=e.options,s=e.ui,n=[];if(i.customData.d)n=i.customData.d;else for(var o=e._isBeginMonth()?i.beginDay:1,r=e._isEndMonth()?i.endDay:e.getDayNum(parseInt(this.ui.y.picker.getSelectedValue()),parseInt(this.ui.m.picker.getSelectedValue()));o<=r;o++){var a=e._fill(o);n.push({text:a,value:a})}s.d.picker.setItems(n),t=t||s.d.picker.getSelectedValue()},_createHours:function(t){var e=this,i=e.options,s=e.ui,n=[];if(i.customData.h)n=i.customData.h;else for(var o=e._isBeginDay()?i.beginHours:0,r=e._isEndDay()?i.endHours:23;o<=r;o++){var a=e._fill(o);n.push({text:a,value:a})}s.h.picker.setItems(n)},_createMinutes:function(t){var e=this,i=e.options,s=e.ui,n=[];if(i.customData.i)n=i.customData.i;else for(var o=e._isBeginHours()?i.beginMinutes:0,r=e._isEndHours()?i.endMinutes:59;o<=r;o++){var a=e._fill(o);n.push({text:a,value:a})}s.i.picker.setItems(n)},_setLabels:function(){var t=this,e=t.options,i=t.ui;i.labels.each(function(t,i){i.innerText=e.labels[t]})},_setButtons:function(){var t=this,e=t.options,i=t.ui;i.cancel.innerText=e.buttons[0],i.ok.innerText=e.buttons[1]},_parseValue:function(t){var e={};if(t){var i=t.replace(":","-").replace(" ","-").split("-");e.y=i[0],e.m=i[1],e.d=i[2],e.h=i[3],e.i=i[4]}else{var s=new Date;e.y=s.getFullYear(),e.m=s.getMonth()+1,e.d=s.getDate(),e.h=s.getHours(),e.i=s.getMinutes()}return e},_create:function(t){var e=this;t=t||{},t.labels=t.labels||["年","月","日","时","分"],t.buttons=t.buttons||["取消","确定"],t.type=t.type||"datetime",t.customData=t.customData||{},e.options=t;var i=new Date,s=t.beginDate;s instanceof Date&&!isNaN(s.valueOf())&&(t.beginYear=s.getFullYear(),t.beginMonth=s.getMonth()+1,t.beginDay=s.getDate(),t.beginHours=s.getHours(),t.beginMinutes=s.getMinutes());var n=t.endDate;n instanceof Date&&!isNaN(n.valueOf())&&(t.endYear=n.getFullYear(),t.endMonth=n.getMonth()+1,t.endDay=n.getDate(),t.endHours=n.getHours(),t.endMinutes=n.getMinutes()),t.beginYear=t.beginYear||i.getFullYear()-5,t.endYear=t.endYear||i.getFullYear()+5;var o=e.ui;e._setLabels(),e._setButtons(),o.picker.setAttribute("data-type",t.type),e._createYear(),e._createMonth(),e._createDay(),e._createHours(),e._createMinutes(),e.setSelectedValue(t.value)},show:function(i){var s=this,n=s.ui;s.callback=i||t.noop,n.mask.show(),e.body.classList.add(t.className("dtpicker-active-for-page")),n.picker.classList.add(t.className("active")),s.__back=t.back,t.back=function(){s.hide()}},hide:function(){var i=this;if(!i.disposed){var s=i.ui;s.picker.classList.remove(t.className("active")),s.mask.close(),e.body.classList.remove(t.className("dtpicker-active-for-page")),t.back=i.__back}},dispose:function(){var t=this;t.hide(),setTimeout(function(){t.ui.picker.parentNode.removeChild(t.ui.picker);for(var e in t)t[e]=null,delete t[e];t.disposed=!0},300)}})}(mui,document),function(t,e){t.dom=function(i){return"string"!=typeof i?i instanceof Array||i[0]&&i.length?[].slice.call(i):[i]:(t.__create_dom_div__||(t.__create_dom_div__=e.createElement("div")),t.__create_dom_div__.innerHTML=i,[].slice.call(t.__create_dom_div__.childNodes))};var i='<div class="mui-poppicker">\t\t<div class="mui-poppicker-header">\t\t    <span class="mui-poppicker-header-text"></span>\t\t   <div class="mui-poppicker-btn-close"><span class=" icon fa fa-times " style="font-size: 16px;"></span></div>\t\t</div>\t\t<div class="mui-poppicker-body">\t\t<div class="mui-poppicker-nav">\t\t<div class="mui-poppicker-title"></div>\t\t</div>\t\t</div>\t</div>',s='<h5 data-id="title"></h5>',n='<div class="mui-ulpicker">\t\t<div class="mui-ulpicker-inner">            <div class="wrapper">                <ul class="content mui-ulpicker-list">                </ul>            </div>        </div>\t</div>';t.MultiLevelPopPicker=t.Class.extend({init:function(s){var n=this;n.options=s||{},n.options.panelTitle=n.options.panelTitle||"",n.panel=t.dom(i)[0],e.body.appendChild(n.panel),n.headerText=n.panel.querySelector(".mui-poppicker-header-text"),n.headerText.innerText=n.options.panelTitle,n.close=n.panel.querySelector(".mui-poppicker-btn-close"),n.title=n.panel.querySelector(".mui-poppicker-title"),n.body=n.panel.querySelector(".mui-poppicker-body"),n.mask=t.createMask(),n.close.addEventListener("tap",function(t){n.hide()},!1),n.mask[0].addEventListener("tap",function(){n.hide()},!1),n._createPicker(),n.panel.addEventListener(t.EVENT_START,function(t){t.preventDefault()},!1),n.panel.addEventListener(t.EVENT_MOVE,function(t){t.preventDefault()},!1)},_createPicker:function(){var e=this,i=e.options.layer||1,o=e.options.titleWidthLayer,r=e.options.defaultTitles||Array(i).fill("请选择"),a="100%";e.pickers=[],e.titles=[],e.pickerElements=[];for(var l=1;l<=i;l++){var h=t.dom(n)[0];h.setAttribute("data-id",l),h.style.width=a;var c=t.dom(s)[0];c.innerText=r[l-1],c.setAttribute("data-id",l),o&&(c.style.width=o[l-1]+"%"),1===l&&(c.classList.add("active"),h.classList.add("active")),c.addEventListener("tap",function(t){for(var s=Number(this.getAttribute("data-id")),n=(Number(this.getAttribute("data-value")),this.previousSibling&&Number(this.previousSibling.getAttribute("data-value")),0);n<i;n++)n+1===s?(e.pickerElements[n].classList.add("active"),e.pickers[n].bscroll.refresh(),e.pickers[n].bscroll.scrollToElement(".choose"),e.titles[n].classList.add("active")):(e.pickerElements[n].classList.remove("active"),e.titles[n].classList.remove("active"))},!1),e.title.appendChild(c),e.titles.push(c),e.pickerElements.push(h),e.body.appendChild(h);var p=t(h).ulpicker();e.pickers.push(p),h.addEventListener("change",function(t){var s=Number(this.getAttribute("data-id")),n=t.detail||{},o=n.item||{},a=e.titles[s-1];a.innerText=o.text||r[s-1],a.setAttribute("data-value",n.index);var l=this.nextSibling;if(l&&l.ulpicker){if(l.ulpicker.setItems(o.children),l.ulpicker.setSelectedIndex(-1),n.index>-1)for(var h=0;h<i;h++)h===s?(e.pickerElements[h].classList.add("active"),e.titles[h].classList.add("active"),e.pickers[h].bscroll.refresh()):(e.pickerElements[h].classList.remove("active"),e.titles[h].classList.remove("active"))}else if(n.index>-1&&e.callback){var c=e.callback(e.getSelectedItems());c!==!1&&e.hide()}},!1)}},setData:function(t){var e=this;t=t||[],e.pickers[0].setItems(t)},getSelectedItems:function(){var t=this,e=[];for(var i in t.pickers){var s=t.pickers[i];e.push(s.getSelectedItem()||{})}return e},show:function(i){var s=this;s.callback=i,
s.mask.show(),e.body.classList.add(t.className("poppicker-active-for-page")),e.documentElement.classList.add(t.className("poppicker-active-for-page")),s.panel.classList.add(t.className("active")),s.__back=t.back,t.back=function(){s.hide()}},hide:function(){var i=this;i.disposed||(i.panel.classList.remove(t.className("active")),i.mask.close(),e.body.classList.remove(t.className("poppicker-active-for-page")),e.documentElement.classList.remove(t.className("poppicker-active-for-page")),t.back=i.__back)},dispose:function(){var t=this;t.hide(),setTimeout(function(){t.panel.parentNode.removeChild(t.panel);for(var e in t)t[e]=null,delete t[e];t.disposed=!0},300)}})}(mui,document);